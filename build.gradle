/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

apply plugin: 'groovy'

repositories {
    mavenCentral()
    maven {
        url('https://repo.jenkins-ci.org/releases/')
    }
}

dependencies {
    compile group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.5.6'
    testCompile 'junit:junit:4.12'
    testCompile group:'com.lesfurets', name:'jenkins-pipeline-unit', version:'1.1'
}

sourceSets {
    
    main {
        groovy {
            srcDirs= ['src']
        }
    }

    test {
        groovy {
            srcDirs= ['test']
        }
    }
}

task copyDocImages(type: Copy) {
    from('doc/images')
    into('build/docs/groovydoc/images')
    include('*')
}

groovydoc {
    dependsOn(copyDocImages)
    docTitle = "Pipeliner"
    windowTitle = "Pipeliner Documentation"
    overviewText = resources.text.fromFile("doc/overview.html")
}
